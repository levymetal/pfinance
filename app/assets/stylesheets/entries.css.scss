// Place all the styles related to the Entries controller here.
// They will automatically be included in application.css.
// You can use Sass (SCSS) here: http://sass-lang.com/

@import 'mixins';

#content {
  #new_entry, .edit_entry {
    &#new_entry {

      #entry_category_id {
        display: none;
      }
    }

    &.edit_entry {
      #select-category {
        display: none;
      }
    }

    .amount {
      float: left;
      // width: 80%;
    }

    .currency {
      float: left;
      margin-right: 4px;
      width: 52px;
    }

    .entry-type {
      float: left;
      width: 73px;
    }

    .category {
      clear: both;
    }

    #entry_from_amount {
      margin-right: 4px;
      width: 80px;
    }
  }

  .month-stats {
    text-align: center;

    h2 {
      font-size: 2em;
    }

    #money-bar {
      position: relative;
      margin-top: 1em;
      height: 15px;

      .i, .e {
        position: absolute;
        top: 0;
        // width: 100%;
        height: 100%;

        &.i {
          background: #8ECC55;
        }

        &.e {
          right: 0;
          background: #FF6F70;
        }

        &.front {
          z-index: 1;
        }
      }
    }

    .expenses, .income {
      float: left;
      width: 50%;

      &.expenses {
        color: #FF6F70;
      }

      &.income {
        color: #8ECC55;
      }

      .average, .total {
        padding-top: 10px;

        span {
          text-transform: uppercase;
          font-size: .75em;

          &.num {
            display: block;
            font-weight: 700;
            font-size: 2em;
          }
        }      
      }
    }
  }

  #home-category-wrapper {
    margin-top: 1em;
  }

  #months {
    // margin: 0 -20px;

    a {
      display: block;
      padding: 10px 0;

      &:active {
        background: $active;
      }
    }

    li {
      border-bottom: 1px solid $border;

      &:last-child {
        border: 0;
      }
    }

    h2 {
      margin-top: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid $border;
      text-transform: uppercase;
      font-weight: 700;
      font-size: .8em;
    }

    h3 {
      float: left;
      margin-top: 10px;
      width: 50%;
      color: #8ECC55;
      text-align: center;
      font-weight: 700;
      font-size: 2em;

      &.expenses {
        color: #FF6F70;
      }
    }
  }
}

#months-wrapper {
  position: relative;
  overflow: hidden;

  // .month-list {
  //   float: left;
  //   width: 50%;
  // }

  .inner {
    position: relative;
    // @include transition(transform 0.6s);
    // @include translateX(0);
    // width: 200%
  }

  &.categories {
    #month-toggle { 
      a.categories {
        opacity: 1;
      }
    }

    #month-categories {
      display: block;
    }

    #month-dates {
      display: none;
    }
  }

  &.dates {
    #month-toggle {
      a.dates {
        opacity: 1;
      }

      &:before {
        @include translateX(100%);
      }
    }

    .inner {
      // @include translateX(-50%)
    }

    #month-categories {
      display: none;
    }

    #month-dates {
      display: block;
    }
  }

  #month-toggle {
    @include border-radius(10px);
    position: relative;
    margin: 30px 0 20px;
    padding: 1px 0;
    height: 24px;
    background: #ddd;

    a {
      position: relative;
      display: block;
      float: left;
      padding: 4px 0;
      width: 50%;
      height: 16px;
      color: #999;
      text-align: center;
      opacity: .5;
    }

    &:before {
      @include transition(all 0.6s);
      @include translateX(0);
      position: absolute;
      top: 1px;
      right: 50%;
      left: 1px;
      display: block;
      height: 24px;
      background: #fefefe;
      content: " ";
      @include border-radius(10px);
    }
  }
}

.month-list {
  a {
    position: relative;
    display: block;
    padding: .8em 0;
    border-bottom: 1px solid $border;

    &:active {
      background: $active;
    }
  }

  ul {
    a {
      margin-left: 1.6em;
    }
  }

  h2 {
    float: left;
  }

  h3 {
    @include transition(opacity 0.3s);
    position: absolute;
    right: 0;

    &.day {
      span {
        font-size: .7em;
      }
    }
  }

  &#month-categories {
    color: #fff;
    font-size: .8em;

    .root-category, .sub-category {
      position: relative;
      margin-bottom: 8px;
      padding: 7px;
      background: rgba(0, 172, 196, 0.6);

      &.sub-category {
        background: rgba(0, 109, 196, 0.6);

        .percentage-bar {
          background: rgba(0, 109, 196, 0.7);
        }
      }
    }

    .percentage-bar {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background: rgba(0, 172, 196, 0.7);
    }

    h2, h3 {
      position: relative;
    }
  
    .name {
      margin-bottom: .3em;
      font-weight: bold;
    }

    .percentage {
      float: right;
      font-weight: bold;
    }

    .total {
      float: left;
      clear: both;
    }

    .day {
      float: right;
    }

    ul {
      display: none;
    }

    li.show-sub-categories {
      ul {
        display: block;
      }
    }
  }

  &#month-dates {
    display: none;

    div {
      position: relative;
      display: block;
      padding: .8em 0 0;
      // border-bottom: 1px solid $border
    }

    h3 {
      right: 32px;
    }

    > li > div > h2 {
      float: none;
      padding: 10px 0;
      border-bottom: 1px solid $border;
      text-transform: uppercase;
      font-weight: 700;
      font-size: .75em;
    }

    .icon-chevron-right {
      position: absolute;
      top: 0;
      right: 0;
      color: #ccc;
    }
  }
}

.edit_entry {
  #entry_category_id {
    width: 200px;
  }
}

#select-category {
  display: inline-block;
  box-sizing: border-box;
  margin: 3px 0;
  padding: .4em 0.4em;
  height: 32px;
  background: #fff;
  color: #666;
  line-height: 1.4em;
}

#category-overlay {
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  z-index: 100;
  display: none;
  padding: 0 10px;
  min-height: 100%;
  background: #fff;

  &.visible {
    display: block;
  }

  #category-list {
    li {
      padding: .8em 0;
      border-bottom: 1px solid $border;
      cursor: pointer;

      &:active {
        background: $active;
      }
    }
  }

  #category-name {
    margin-top: 0;
    margin-bottom: 0;
    background: #eee;
    color: #333;
    text-align: left;
  }
}